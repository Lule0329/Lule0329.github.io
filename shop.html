<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webbshop</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="main">
        <div class="container">

            <div class="header">
                <h1>DownloadableRAM.com</h1>
            </div>

            <div class="nav">
                <a href="index.html">
                    <div class="button">
                        <p>Home</p>
                    </div>
                </a>

                <a href="shop.html">
                    <div class="button">
                        <p>Shop</p>
                    </div>
                </a>

                <a href="#">
                    <div class="button" id="toggle-cart">
                        <p>Cart</p>
                    </div>
                </a>
                
                <div class="popup" id="cart-popup">
                    <h2>Your Cart</h2>
                    <ul id="cart-items"></ul>
                    <p>Total: $<span id="cart-total">0.00</span></p>
                </div>

                <a href="about.html">
                    <div class="button">
                        <p>About</p>
                    </div>
                </a>

                <a href="contact.html">
                    <div class="button">
                        <p>Contact</p>
                    </div>
                </a>
            </div>

            <div class="list">
                <div class="item" data-id="1" data-name="RAM4GB" data-price="20">
                    <img class="productImage" src="Images/ram200x200.png" alt="kräkla">
                    <h1 class="productTitle">RAM</h1>
                    <div class="productDesc">
                        <p class="productDesc">4GB - 20$</p>
                    </div>
                    <a href="" class="addToCart"><img class="addToCart" src="images/addtocart.svg"
                            alt="add to cart"></a>
                </div>

                <div class="item" data-id="2" data-name="RAM8GB" data-price="40">
                    <img class="productImage" src="Images/ram200x200.png" alt="kräkla">
                    <h1 class="productTitle">RAM</h1>
                    <div class="productDesc">
                        <p class="productDesc">8GB - 40$</p>
                    </div>
                    <a href="" class="addToCart"><img class="addToCart" src="images/addtocart.svg"
                            alt="add to cart"></a>
                </div>

                <div class="item" data-id="3" data-name="RAM16GB" data-price="80">
                    <img class="productImage" src="Images/ram200x200.png" alt="kräkla">
                    <h1 class="productTitle">RAM</h1>
                    <div class="productDesc">
                        <p class="productDesc">16GB - 80$</p>
                    </div>
                    <a href="" class="addToCart"><img class="addToCart" src="images/addtocart.svg"
                            alt="add to cart"></a>
                </div>

                <div class="item" data-id="4" data-name="RAM32GB" data-price="160">
                    <img class="productImage" src="Images/ram200x200.png" alt="kräkla">
                    <h1 class="productTitle">RAM</h1>
                    <div class="productDesc">
                        <p class="productDesc">32GB - 160$</p>
                    </div>
                    <a href="" class="addToCart"><img class="addToCart" src="images/addtocart.svg"
                            alt="add to cart"></a>
                </div>

                <div class="item" data-id="5" data-name="RAM64GB" data-price="240">
                    <img class="productImage" src="Images/ram200x200.png" alt="kräkla">
                    <h1 class="productTitle">RAM</h1>
                    <div class="productDesc">
                        <p class="productDesc">64GB - 240$</p>
                    </div>
                    <a href="" class="addToCart"><img class="addToCart" src="images/addtocart.svg"
                            alt="add to cart"></a>
                </div>

                <div class="item" data-id="6" data-name="RAM128GB" data-price="480">
                    <img class="productImage" src="Images/ram200x200.png" alt="kräkla">
                    <h1 class="productTitle">RAM</h1>
                    <div class="productDesc">
                        <p class="productDesc">128GB - 480$</p>
                    </div>
                    <a href="" class="addToCart"><img class="addToCart" src="images/addtocart.svg"
                            alt="add to cart"></a>
                </div>

                <div class="item" data-id="7" data-name="RAM256GB" data-price="960">
                    <img class="productImage" src="Images/ram200x200.png" alt="kräkla">
                    <h1 class="productTitle">RAM</h1>
                    <div class="productDesc">
                        <p class="productDesc">256GB - 960$</p>
                    </div>
                    <a href="" class="addToCart"><img class="addToCart" src="images/addtocart.svg"
                            alt="add to cart"></a>
                </div>

                <div class="item" data-id="8" data-name="RAM512GB" data-price="1920">
                    <img class="productImage" src="Images/ram200x200.png" alt="kräkla">
                    <h1 class="productTitle">RAM</h1>
                    <div class="productDesc">
                        <p class="productDesc">512GB - 1920$</p>
                    </div>
                    <a href="" class="addToCart"><img class="addToCart" src="images/addtocart.svg"
                            alt="add to cart"></a>
                </div>

                <div class="item" data-id="9" data-name="RAM1024GB" data-price="3840">
                    <img class="productImage" src="Images/ram200x200.png" alt="kräkla">
                    <h1 class="productTitle">RAM</h1>
                    <div class="productDesc">
                        <p class="productDesc">1024GB - 3840$</p>
                    </div>
                    <a href="" class="addToCart"><img class="addToCart" src="images/addtocart.svg"
                            alt="add to cart"></a>
                </div>

                <div class="item" data-id="10" data-name="RAM2048GB" data-price="7680">
                    <img class="productImage" src="Images/ram200x200.png" alt="kräkla">
                    <h1 class="productTitle">RAM</h1>
                    <div class="productDesc">
                        <p class="productDesc">2048GB - 7680$</p>
                    </div>
                    <a href="" class="addToCart"><img class="addToCart" src="images/addtocart.svg"
                            alt="add to cart"></a>
                </div>

                <script>
                    document.getElementById('toggle-cart').addEventListener('click', function (e) {
                        e.preventDefault();
                        const popup = document.getElementById('cart-popup');
                        popup.style.display = popup.style.display === 'none' ? 'block' : 'none';
                    });

                    const cart = [];
                    const cartItemsEl = document.getElementById('cart-items');
                    const cartTotalEl = document.getElementById('cart-total');

                    function saveCart() {
                        localStorage.setItem('cart', JSON.stringify(cart));
                    }

                    function loadCart() {
                        const savedCart = localStorage.getItem('cart');
                        if (savedCart) {
                            cart.splice(0, cart.length, ...JSON.parse(savedCart));
                            updateCart();
                        }
                    }

                    function updateCart() {
                        cartItemsEl.innerHTML = '';
                        let total = 0;

                        cart.forEach(item => {
                            total += item.price * item.quantity;
                            const li = document.createElement('li');
                            li.textContent = `${item.name} x ${item.quantity} - $${(item.price * item.quantity).toFixed(2)}`;
                            cartItemsEl.appendChild(li);
                        });

                        cartTotalEl.textContent = total.toFixed(2);
                    }

                    document.addEventListener('DOMContentLoaded', () => {
                        loadCart();

                        document.querySelectorAll('.addToCart').forEach(button => {
                            button.addEventListener('click', (e) => {
                                e.preventDefault(); // Hindra länkens standardbeteende

                                const productEl = button.closest('.item');
                                const id = productEl.dataset.id;
                                const name = productEl.dataset.name;
                                const price = parseFloat(productEl.dataset.price);

                                const existingProduct = cart.find(item => item.id === id);
                                if (existingProduct) {
                                    existingProduct.quantity += 1;
                                } else {
                                    cart.push({ id, name, price, quantity: 1 });
                                }

                                updateCart();
                                saveCart();
                            });
                        });
                    });
                </script>
            </div>
        </div>
    </div>
</body>

</html>